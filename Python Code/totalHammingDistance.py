def totalHammingDistance(nums):
	res, size = 0, len(nums)
	if size <2: return res
	zeroOnes = [0,0]
	while True:
		zeroCount = 0
		zeroOnes = [0,0]
		for i in range(size):
			# print nums[i], size, zeroCount, zeroOnes
			if nums[i] == 0: zeroCount += 1
			zeroOnes[nums[i] % 2] += 1
			nums[i] = nums[i]>>1

		res += zeroOnes[0] * zeroOnes[1]
		if zeroCount == size: 
			return res


print totalHammingDistance([4,14,2])
print totalHammingDistance([4953595,3761801,6771310,1966212,6939601,9011181,8088354,780695,6789604,3464583,5052723,459093,5081820,8974218,7889769,8524937,1442699,7412843,3159286,1581496,8094662,5897785,9032399,3797814,6070666,8944163,3761473,7592325,2580458,8344420,780953,2164366,2516142,7984723,8963834,951903,4645036,3251938,6186146,9126564,1373279,8231215,5704830,4255518,721207,9144792,3744360,8326780,4472782,4884252,6880401,7410402,102733,6282686,7689677,9811830,9875503,1935169,2941500,2539220,9016535,3140453,5529221,9714102,5590542,259484,3571049,7080228,4006967,7545956,6709209,2207641,9137377,1411322,9021048,7401267,1503367,1990250,5618645,4875224,8353117,6463497,7888394,3858602,8038981,6386950,8904789,1654058,5093128,2752240,6962291,8635744,8583168,6283539,6315114,1545406,9104323,1934523,5550691,7309882,1734116,2976978,9382566,3611085,3125146,7439671,9124903,8524273,9030540,1696333,8996653,5656504,5065460,7125118,6577373,6577079,813268,6625526,817129,1821752,7308829,5335102,4291119,319525,7794003,193888,2871790,5551430,4967233,5524487,3616277,7745378,6464224,5571795,3010899,4604432,1340912,6620557,5699990,7842217,6846318,7219133,6517921,4590761,1786170,1435932,5406141,7813834,9950327,3361445,3048204,1071413,8653893,4391766,8350476,6839232,4569822,6781196,2578837,6767009,5299595,7738725,8631920,3197979,9174122,8129517,7674657,9752201,332612,693323,9322758,4356697,6350527,7554250,7112556,7083462,6801847,4300105,1607428,7353853,3226868,8131612,3631210,4572333,7640618,4712617,4717826,8494577,6848915,3936134,3163950,3861119,6371512,8952636,6030094,8913916,7082213,1781039,4160659,4000285,3348006,6951197,2223084,2900279,2242495,9568466,2760692,3046168,9187426,1379000,8977527,8664445,3082185,6005190,5712477,8366470,3924123,3890339,4649052,1650316,5621401,5700385,6128336,2797318,7671438,6949225,3096814,2302303,6803919,7611697,1416172,4168820,9514858,9040928,8745625,1382447,9936280,5015116,9957202,161881,8396654,4082078,8728420,2080922,4089968,6145118,7570769,8211654,5737238,2401039,7784114,3087999,3674642,7524266,9570113,8060310,4819255,3255978,666359,1940388,624766,4536439,1177827,111833,2860208,8769198,2685477,1549375,191016,8633199,7017466,936498,6297801,7800992,6282589,6240686,2801766,6322997,5805452,3773849,7840178,6698602,7750902,1383204,5482179,4836588,9516019,4232322,1418904,6223988,5961859,2685338,635070,3807765,2201902,5505004,533475,928780,1253753,6334957,938929,438595,6543069,1360975,8673064,9681964,7173443,8301692,5934434,4000032,9950855,1062143,9737335,6755284,9548008,3779000,992968,6901603,9937306,916143,5657382,6889874,6623113,3512348,2478989,2515696,3739311,171281,8152919,6974937,8535354,4139707,991022,4239379,7521281,2774839,2111306,1301322,3536273,2769553,4691372,1240487,8566075,5139932,8302066,2524651,4292442,4585852,5860540,1498974,1059012,3694551,6637650,6492752,2827689,6344122,7052196,8063675,9771654,8440850,1387071,1771357,9281508,9376395,5132066,5580050,8195527,9971925,3459366,1829227,9123796,697279,3780584,9478613,2512925,6511870,8511894,2138354,4293902,8482807,7822412,7801041,512220,9283818,152318,4037491,5981090,663777,8026560,4376693,8482830,1979885,1200335,8266699,2005505,2969073,8126387,8533012,7465871,4354436,8868054,738202,1526999,5325697,1458262,8369138,8247045,1499439,3851044,6034898,6831744,4090826,5509834,8472506,4175351,1007642,3174428,9583801,4650261,5998844,4169122,4330371,4577156,9356023,4998262,1545690,3450001,1316004,3626070,6444107,353310,4703053,2235432,6188247,3264673,2514158,1907279,7263492,5693456,8803634,4260350,3491589,115963,8990141,9232096,8297865,6163312,6654283,2453959,3790487,6222733,4959718,1434084,406336,3418144,3437229,3938623,7468728,8998414,5207185,3476903,2510006,6167459,8690225,1129667,382314,5040479,9788052,9337191,6627729,8925704,5507528,4127741,7757150,6302696,6379258,3596033,6038404,4899818,756563,1158882,5246396,9854468,5193612,8301603,4134212,4775001,4118911,4848519,1506402,8677962,964094,6593062,2857368,8105186,8711073,7077359,5190617,8438594,2826966,7003930,1789592,4841708,5354104,2665623,2781797,6412700,2893152,9343338,6002137,4523817,7820029,2206335,6941213,2514441,8538748,5822576])

def totHamDist(nums):
	distance = 0
	for i in range(len(nums)):
		for j in range(i+1, len(nums)):
			distance += bin(nums[i]^nums[j]).count('1')
	return distance

# print totHamDist([4,14,2])
# print totHamDist([4953595,3761801,6771310,1966212,6939601,9011181,8088354,780695,6789604,3464583,5052723,459093,5081820,8974218,7889769,8524937,1442699,7412843,3159286,1581496,8094662,5897785,9032399,3797814,6070666,8944163,3761473,7592325,2580458,8344420,780953,2164366,2516142,7984723,8963834,951903,4645036,3251938,6186146,9126564,1373279,8231215,5704830,4255518,721207,9144792,3744360,8326780,4472782,4884252,6880401,7410402,102733,6282686,7689677,9811830,9875503,1935169,2941500,2539220,9016535,3140453,5529221,9714102,5590542,259484,3571049,7080228,4006967,7545956,6709209,2207641,9137377,1411322,9021048,7401267,1503367,1990250,5618645,4875224,8353117,6463497,7888394,3858602,8038981,6386950,8904789,1654058,5093128,2752240,6962291,8635744,8583168,6283539,6315114,1545406,9104323,1934523,5550691,7309882,1734116,2976978,9382566,3611085,3125146,7439671,9124903,8524273,9030540,1696333,8996653,5656504,5065460,7125118,6577373,6577079,813268,6625526,817129,1821752,7308829,5335102,4291119,319525,7794003,193888,2871790,5551430,4967233,5524487,3616277,7745378,6464224,5571795,3010899,4604432,1340912,6620557,5699990,7842217,6846318,7219133,6517921,4590761,1786170,1435932,5406141,7813834,9950327,3361445,3048204,1071413,8653893,4391766,8350476,6839232,4569822,6781196,2578837,6767009,5299595,7738725,8631920,3197979,9174122,8129517,7674657,9752201,332612,693323,9322758,4356697,6350527,7554250,7112556,7083462,6801847,4300105,1607428,7353853,3226868,8131612,3631210,4572333,7640618,4712617,4717826,8494577,6848915,3936134,3163950,3861119,6371512,8952636,6030094,8913916,7082213,1781039,4160659,4000285,3348006,6951197,2223084,2900279,2242495,9568466,2760692,3046168,9187426,1379000,8977527,8664445,3082185,6005190,5712477,8366470,3924123,3890339,4649052,1650316,5621401,5700385,6128336,2797318,7671438,6949225,3096814,2302303,6803919,7611697,1416172,4168820,9514858,9040928,8745625,1382447,9936280,5015116,9957202,161881,8396654,4082078,8728420,2080922,4089968,6145118,7570769,8211654,5737238,2401039,7784114,3087999,3674642,7524266,9570113,8060310,4819255,3255978,666359,1940388,624766,4536439,1177827,111833,2860208,8769198,2685477,1549375,191016,8633199,7017466,936498,6297801,7800992,6282589,6240686,2801766,6322997,5805452,3773849,7840178,6698602,7750902,1383204,5482179,4836588,9516019,4232322,1418904,6223988,5961859,2685338,635070,3807765,2201902,5505004,533475,928780,1253753,6334957,938929,438595,6543069,1360975,8673064,9681964,7173443,8301692,5934434,4000032,9950855,1062143,9737335,6755284,9548008,3779000,992968,6901603,9937306,916143,5657382,6889874,6623113,3512348,2478989,2515696,3739311,171281,8152919,6974937,8535354,4139707,991022,4239379,7521281,2774839,2111306,1301322,3536273,2769553,4691372,1240487,8566075,5139932,8302066,2524651,4292442,4585852,5860540,1498974,1059012,3694551,6637650,6492752,2827689,6344122,7052196,8063675,9771654,8440850,1387071,1771357,9281508,9376395,5132066,5580050,8195527,9971925,3459366,1829227,9123796,697279,3780584,9478613,2512925,6511870,8511894,2138354,4293902,8482807,7822412,7801041,512220,9283818,152318,4037491,5981090,663777,8026560,4376693,8482830,1979885,1200335,8266699,2005505,2969073,8126387,8533012,7465871,4354436,8868054,738202,1526999,5325697,1458262,8369138,8247045,1499439,3851044,6034898,6831744,4090826,5509834,8472506,4175351,1007642,3174428,9583801,4650261,5998844,4169122,4330371,4577156,9356023,4998262,1545690,3450001,1316004,3626070,6444107,353310,4703053,2235432,6188247,3264673,2514158,1907279,7263492,5693456,8803634,4260350,3491589,115963,8990141,9232096,8297865,6163312,6654283,2453959,3790487,6222733,4959718,1434084,406336,3418144,3437229,3938623,7468728,8998414,5207185,3476903,2510006,6167459,8690225,1129667,382314,5040479,9788052,9337191,6627729,8925704,5507528,4127741,7757150,6302696,6379258,3596033,6038404,4899818,756563,1158882,5246396,9854468,5193612,8301603,4134212,4775001,4118911,4848519,1506402,8677962,964094,6593062,2857368,8105186,8711073,7077359,5190617,8438594,2826966,7003930,1789592,4841708,5354104,2665623,2781797,6412700,2893152,9343338,6002137,4523817,7820029,2206335,6941213,2514441,8538748,5822576])

def totalHamDist(nums):
	numStr = ["{:6b}".format(x) for x in nums] 
	print numStr
	print zip(*numStr)
	ret, N = 0, len(nums)
	for b in zip(*numStr):
		a = b.count("1")
		ret += a * (N - a)
        
	# return ret

print totalHamDist([4,14,2])